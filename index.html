<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors </title>
</head>
<body>
    <script>
        let playerCounter = 0;
        let computerCounter = 0; 
        function getComputerChoice()
        {
            const randNumber = Math.floor((Math.random() * 3) + 1 );
            console.log(randNumber);
            switch (randNumber)
            {
                case 1: return "rock";
                break;
                case 2: return "paper";
                break;
                case 3: return "scissors";
                break;
                default: return "xdd"; // Not Reachable
            }
        }

        function getHumanChoice()
        {
            return prompt("Rock, Paper, or Scissors. What's your choice?").toLowerCase();
        }
        function handleWinRound(playerChoice, computerChoice)
        {
            playerCounter++;
            console.log(`You WIN! ${playerChoice} beats ${computerChoice}`);
        }
        function handleLoseRound(playerChoice, computerChoice)
        {
            computerCounter++;
            console.log(`You Lose  ${computerChoice} beats ${playerChoice}`);
        }
        function handleDrawRound(playerChoice, computerChoice)
        {
            console.log(`It's a DRAW !!! Both picked ${computerChoice}`);
        }
        function playRound(humanChoice, computerChoice)
        {
            switch(humanChoice)
            {
                case "paper" :
                {
                    if (computerChoice == "rock") handleWinRound(humanChoice, computerChoice);
                    else if (computerChoice == "scissors") handleLoseRound(humanChoice, computerChoice);
                    else handleDrawRound(humanChoice, computerChoice);
                    break;
                }
                case "rock"  :
                if (computerChoice == "scissors") handleWinRound(humanChoice, computerChoice);
                    else if (computerChoice == "paper") handleLoseRound(humanChoice, computerChoice);
                    else handleDrawRound(humanChoice, computerChoice);
                break;
                case "scissors":
                if (computerChoice == "paper") handleWinRound(humanChoice, computerChoice);
                    else if (computerChoice == "rock") handleLoseRound(humanChoice, computerChoice);
                    else handleDrawRound(humanChoice, computerChoice);
                break;
                default : playRound("rock", computerChoice);
                break;
                
            }
        }
        function playGame()
        {
            for (let i = 0; i < 5; i++)
            {
                const humanChoice = getHumanChoice();
                const computerChoice = getComputerChoice(); 
                playRound(humanChoice, computerChoice);
                console.log(computerChoice); 
            }
            if(playerCounter > computerCounter) console.log(`YOU WIN! ${playerCounter} - ${computerCounter} `)
            else if (computerCounter > playerCounter) console.log(`you lose :(  ${playerCounter} - ${computerCounter} `)
            else console.log(`It's a DRAW! ${playerCounter} - ${computerCounter} `)
        }
        playGame();
    </script>
    
</body>

</html>